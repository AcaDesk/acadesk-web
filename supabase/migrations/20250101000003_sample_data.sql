-- =====================================================
-- Sample Data for Development/Testing
-- =====================================================

-- =====================================================
-- 1. CREATE SAMPLE TENANT
-- =====================================================

INSERT INTO tenants (id, name, slug, timezone, settings)
VALUES (
  'a0000000-0000-0000-0000-000000000001',
  'Acadesk Demo Academy',
  'demo-academy',
  'Asia/Seoul',
  '{"academic_year_start": "2025-03-01", "notification_enabled": true}'::jsonb
);

-- =====================================================
-- 2. CREATE SAMPLE USERS
-- =====================================================

-- Admin (원장)
INSERT INTO users (id, tenant_id, email, name, role_code, phone)
VALUES (
  'a0000000-0000-0000-0000-000000000011',
  'a0000000-0000-0000-0000-000000000001',
  'admin@acadesk.demo',
  '김원장',
  'admin',
  '010-1234-5678'
);

-- Instructor 1 (송이 선생님)
INSERT INTO users (id, tenant_id, email, name, role_code, phone)
VALUES (
  'a0000000-0000-0000-0000-000000000012',
  'a0000000-0000-0000-0000-000000000001',
  'songi@acadesk.demo',
  '송이',
  'instructor',
  '010-2345-6789'
);

-- Instructor 2 (써니 선생님)
INSERT INTO users (id, tenant_id, email, name, role_code, phone)
VALUES (
  'a0000000-0000-0000-0000-000000000013',
  'a0000000-0000-0000-0000-000000000001',
  'sunny@acadesk.demo',
  '써니',
  'instructor',
  '010-3456-7890'
);

-- Student Users
INSERT INTO users (id, tenant_id, email, name, role_code, phone)
VALUES
  ('a0000000-0000-0000-0000-000000000021', 'a0000000-0000-0000-0000-000000000001', 'student1@acadesk.demo', '김민준', 'student', NULL),
  ('a0000000-0000-0000-0000-000000000022', 'a0000000-0000-0000-0000-000000000001', 'student2@acadesk.demo', '이서윤', 'student', NULL),
  ('a0000000-0000-0000-0000-000000000023', 'a0000000-0000-0000-0000-000000000001', 'student3@acadesk.demo', '박지우', 'student', NULL),
  ('a0000000-0000-0000-0000-000000000024', 'a0000000-0000-0000-0000-000000000001', 'student4@acadesk.demo', '최하은', 'student', NULL);

-- Guardian Users
INSERT INTO users (id, tenant_id, email, name, role_code, phone)
VALUES
  ('a0000000-0000-0000-0000-000000000031', 'a0000000-0000-0000-0000-000000000001', 'parent1@acadesk.demo', '김민준 어머니', 'guardian', '010-1111-2222'),
  ('a0000000-0000-0000-0000-000000000032', 'a0000000-0000-0000-0000-000000000001', 'parent2@acadesk.demo', '이서윤 아버지', 'guardian', '010-2222-3333'),
  ('a0000000-0000-0000-0000-000000000033', 'a0000000-0000-0000-0000-000000000001', 'parent3@acadesk.demo', '박지우 어머니', 'guardian', '010-3333-4444'),
  ('a0000000-0000-0000-0000-000000000034', 'a0000000-0000-0000-0000-000000000001', 'parent4@acadesk.demo', '최하은 어머니', 'guardian', '010-4444-5555');

-- =====================================================
-- 3. CREATE STUDENTS
-- =====================================================

INSERT INTO students (id, tenant_id, user_id, student_code, grade, school, enrollment_date)
VALUES
  ('a0000000-0000-0000-0000-000000000041', 'a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000021', 'STU001', '초등 5학년', '서울초등학교', '2024-03-01'),
  ('a0000000-0000-0000-0000-000000000042', 'a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000022', 'STU002', '초등 4학년', '강남초등학교', '2024-03-01'),
  ('a0000000-0000-0000-0000-000000000043', 'a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000023', 'STU003', '초등 6학년', '역삼초등학교', '2024-09-01'),
  ('a0000000-0000-0000-0000-000000000044', 'a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000024', 'STU004', '초등 5학년', '서초초등학교', '2024-03-01');

-- =====================================================
-- 4. CREATE GUARDIANS
-- =====================================================

INSERT INTO guardians (id, tenant_id, user_id, relationship)
VALUES
  ('a0000000-0000-0000-0000-000000000051', 'a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000031', 'mother'),
  ('a0000000-0000-0000-0000-000000000052', 'a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000032', 'father'),
  ('a0000000-0000-0000-0000-000000000053', 'a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000033', 'mother'),
  ('a0000000-0000-0000-0000-000000000054', 'a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000034', 'mother');

-- Link students to guardians
INSERT INTO student_guardians (tenant_id, student_id, guardian_id, is_primary)
VALUES
  ('a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000041', 'a0000000-0000-0000-0000-000000000051', true),
  ('a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000042', 'a0000000-0000-0000-0000-000000000052', true),
  ('a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000043', 'a0000000-0000-0000-0000-000000000053', true),
  ('a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000044', 'a0000000-0000-0000-0000-000000000054', true);

-- =====================================================
-- 5. STUDENT SCHEDULES (요일별 등원 시간)
-- =====================================================

-- 김민준 - 월수금 14:00, 화목 15:00
INSERT INTO student_schedules (tenant_id, student_id, day_of_week, scheduled_arrival_time)
VALUES
  ('a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000041', 1, '14:00'), -- 월
  ('a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000041', 2, '15:00'), -- 화
  ('a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000041', 3, '14:00'), -- 수
  ('a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000041', 4, '15:00'), -- 목
  ('a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000041', 5, '14:00'); -- 금

-- 이서윤 - 월~금 15:30
INSERT INTO student_schedules (tenant_id, student_id, day_of_week, scheduled_arrival_time)
VALUES
  ('a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000042', 1, '15:30'),
  ('a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000042', 2, '15:30'),
  ('a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000042', 3, '15:30'),
  ('a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000042', 4, '15:30'),
  ('a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000042', 5, '15:30');

-- =====================================================
-- 6. CREATE CLASSES
-- =====================================================

INSERT INTO classes (id, tenant_id, name, instructor_id, subject, grade_level, capacity, schedule)
VALUES
  (
    'a0000000-0000-0000-0000-000000000061',
    'a0000000-0000-0000-0000-000000000001',
    'Elementary Advanced',
    'a0000000-0000-0000-0000-000000000012',
    'English',
    'Grade 5-6',
    10,
    '{"mon": ["14:00-15:30"], "wed": ["14:00-15:30"], "fri": ["14:00-15:30"]}'::jsonb
  ),
  (
    'a0000000-0000-0000-0000-000000000062',
    'a0000000-0000-0000-0000-000000000001',
    'Elementary Intermediate',
    'a0000000-0000-0000-0000-000000000013',
    'English',
    'Grade 4-5',
    10,
    '{"tue": ["15:30-17:00"], "thu": ["15:30-17:00"]}'::jsonb
  );

-- =====================================================
-- 7. CLASS ENROLLMENTS
-- =====================================================

INSERT INTO class_enrollments (tenant_id, class_id, student_id, status)
VALUES
  ('a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000061', 'a0000000-0000-0000-0000-000000000041', 'active'),
  ('a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000061', 'a0000000-0000-0000-0000-000000000043', 'active'),
  ('a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000062', 'a0000000-0000-0000-0000-000000000042', 'active'),
  ('a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000062', 'a0000000-0000-0000-0000-000000000044', 'active');

-- =====================================================
-- 8. CREATE MATERIALS
-- =====================================================

INSERT INTO materials (id, tenant_id, name, category_code, publisher, price, total_units)
VALUES
  ('a0000000-0000-0000-0000-000000000071', 'a0000000-0000-0000-0000-000000000001', 'Phonics Fun 1', 'phonics', 'Oxford', 25000, 12),
  ('a0000000-0000-0000-0000-000000000072', 'a0000000-0000-0000-0000-000000000001', 'Reading Explorer 2', 'reading', 'National Geographic', 35000, 16),
  ('a0000000-0000-0000-0000-000000000073', 'a0000000-0000-0000-0000-000000000001', 'Vocabulary Workshop Level C', 'vocabulary', 'Sadlier', 28000, 20),
  ('a0000000-0000-0000-0000-000000000074', 'a0000000-0000-0000-0000-000000000001', 'Grammar in Use Intermediate', 'grammar', 'Cambridge', 32000, 15);

-- =====================================================
-- 9. MATERIAL DISTRIBUTIONS
-- =====================================================

INSERT INTO material_distributions (tenant_id, material_id, student_id, distributed_at, payment_status, payment_amount)
VALUES
  ('a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000071', 'a0000000-0000-0000-0000-000000000042', '2024-09-01', 'paid', 25000),
  ('a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000072', 'a0000000-0000-0000-0000-000000000041', '2024-09-01', 'paid', 35000),
  ('a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000073', 'a0000000-0000-0000-0000-000000000041', '2024-09-15', 'unpaid', NULL),
  ('a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000074', 'a0000000-0000-0000-0000-000000000043', '2024-10-01', 'self_purchased', NULL);

-- =====================================================
-- 10. CREATE BOOKS
-- =====================================================

INSERT INTO books (id, tenant_id, title, author, category_code, level, total_copies, available_copies)
VALUES
  ('a0000000-0000-0000-0000-000000000081', 'a0000000-0000-0000-0000-000000000001', 'The Magic Tree House #1', 'Mary Pope Osborne', 'chapter_book', 'AR 2.5', 3, 2),
  ('a0000000-0000-0000-0000-000000000082', 'a0000000-0000-0000-0000-000000000001', 'Charlotte''s Web', 'E.B. White', 'fiction', 'AR 4.4', 2, 1),
  ('a0000000-0000-0000-0000-000000000083', 'a0000000-0000-0000-0000-000000000001', 'Diary of a Wimpy Kid', 'Jeff Kinney', 'fiction', 'AR 5.2', 4, 3),
  ('a0000000-0000-0000-0000-000000000084', 'a0000000-0000-0000-0000-000000000001', 'The Very Hungry Caterpillar', 'Eric Carle', 'picture_book', 'AR 1.0', 2, 2);

-- =====================================================
-- 11. BOOK LENDINGS
-- =====================================================

INSERT INTO book_lendings (tenant_id, book_id, student_id, borrowed_at, due_date, returned_at)
VALUES
  -- 반납 완료
  ('a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000081', 'a0000000-0000-0000-0000-000000000042', '2024-09-20', '2024-09-27', '2024-09-26'),
  -- 대여 중
  ('a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000082', 'a0000000-0000-0000-0000-000000000041', '2024-10-01', '2024-10-08', NULL),
  ('a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000083', 'a0000000-0000-0000-0000-000000000043', '2024-10-01', '2024-10-08', NULL);

-- =====================================================
-- 12. CREATE EXAMS
-- =====================================================

INSERT INTO exams (id, tenant_id, class_id, name, category_code, exam_date, total_questions, is_recurring, recurring_schedule)
VALUES
  -- 단어 시험 (월수금)
  ('a0000000-0000-0000-0000-000000000091', 'a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000061', 'Vocabulary Quiz Week 1', 'vocabulary', '2024-10-02', 50, true, 'weekly_mon_wed_fri'),
  -- 리스닝 시험 (금요일)
  ('a0000000-0000-0000-0000-000000000092', 'a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000061', 'Listening Test Week 1', 'listening', '2024-10-04', 30, true, 'weekly_fri'),
  -- 월말 평가
  ('a0000000-0000-0000-0000-000000000093', 'a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000061', 'September Monthly Assessment', 'monthly', '2024-09-30', 100, false, NULL);

-- =====================================================
-- 13. EXAM SCORES
-- =====================================================

INSERT INTO exam_scores (tenant_id, exam_id, student_id, correct_answers, total_questions, feedback)
VALUES
  -- 김민준 - 단어 시험
  ('a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000091', 'a0000000-0000-0000-0000-000000000041', 45, 50, '잘했어요! 계속 이렇게 열심히 해주세요.'),
  -- 김민준 - 리스닝 시험
  ('a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000092', 'a0000000-0000-0000-0000-000000000041', 28, 30, '듣기 실력이 많이 향상되었습니다.'),
  -- 이서윤 - 단어 시험 (재시험)
  ('a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000091', 'a0000000-0000-0000-0000-000000000042', 42, 50, '재시험을 통해 많이 향상되었어요!');

-- =====================================================
-- 14. STUDENT TODOS
-- =====================================================

INSERT INTO student_todos (tenant_id, student_id, title, subject, due_date, due_day_of_week, priority)
VALUES
  ('a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000041', 'Vocabulary 51-100 암기', 'Vocabulary', CURRENT_DATE + INTERVAL '1 day', 1, 'high'),
  ('a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000041', 'Reading Explorer Unit 3 읽기', 'Reading', CURRENT_DATE + INTERVAL '1 day', 1, 'normal'),
  ('a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000042', 'Phonics Workbook p.20-25', 'Phonics', CURRENT_DATE + INTERVAL '2 days', 2, 'normal');

-- =====================================================
-- SAMPLE DATA COMPLETE
-- =====================================================
